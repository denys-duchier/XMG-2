%type Stmts Stmts

%ext _Stmt _Stmt

%%

Stmts :
        Stmts ';' Stmts {$$=control:and($1,$3)} 
      | Stmts '|' Stmts {$$=control:or($1,$3)}
      | _Stmt {$$=$1}
      | AStmt {$$=$1}
      | '{' Stmts '}' {$$=$2}
      | '(' Stmts ')' {$$=$2}; 

AStmt : _Expr '=' _Expr {$$=control:eq($1,$3)}
      | Call {$$=$1};


Call : id '[' (id // ',')* ']' {$$=control:call($1,$3)} ;

%%
